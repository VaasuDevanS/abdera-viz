<!doctype html>
<html>
<head>
    <title> Abdera: Homepage </title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /> <!-- Carousel arrows -->
    <link rel="stylesheet" href="static/css/leaflet.css" />
    <link rel="stylesheet" href="static/css/easy-button.css" />
    <link rel="stylesheet"
          media="screen and (min-width: 320px) and (max-width: 767px)"
          href="static/css/Home/Mobile.css" />
    <link rel="stylesheet"
          media="screen and (min-width: 768px) and (max-width: 1023px)"
          href="static/css/Home/Tablet.css" />
    <link rel="stylesheet"
          media="screen and (min-width: 1024px) and (max-width: 1439px)"
          href="static/css/Home/Laptop.css" />
    <link rel="stylesheet"
          media="screen and (min-width: 1440px) and (max-width: 1879px)"
          href="static/css/Home/LargeLaptop.css" />
    <link rel="stylesheet"
          media="screen and (min-width: 1880px) and (max-width: 2559px)"
          href="static/css/Home/Wide_screen.css" />
    <link rel="stylesheet"
          media="screen and (min-width: 2560px) and (max-width: 2900px)"
          href="static/css/Home/Wider.css" />
    <style>
    body {
       width: 100%;
       height: 100%;
       background-position: center;
       background-image: url("static/images/Background.jpeg");
       background-repeat: no-repeat;
       background-size: 100% 200vh;
    }
    /* Coordinates */
      .leaflet-container .leaflet-control-mouseposition {
         background-color: rgba(255, 255, 255, 0.7);
         box-shadow: 0 0 5px #bbb;
         margin: 7.5px;
         color: #333;
         font: 11px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;
      }
    </style>
</head>
<body>
   <script src="static/js/jquery-3.3.1.js"></script> <!-- JQuery -->
   <script src="static/js/bootstrap.min.js"></script> <!-- Bootstrap -->
   <script src="static/js/leaflet.js"></script> <!-- Main Leaflet -->
   <script src="static/js/leaflet.coordinates.js"></script> <!-- Show Coordinates -->
   <script src="static/js/easy-button.js"></script> <!-- Home button -->
   <script src="static/js/leaflet-bing-layer.js"> </script> <!-- Bing satellite map -->
   <script src="static/js/BBox.js"> </script> <!-- Geo-JSON file -->

   <div class="container" style="align:center; padding-top:2px">
      <!-- Header -->
      <div class="topnav" id="heading">
         <p style="color:white; text-align:center; font-size:38px">
            <font face="Wide Latin"> T</font><font face="Times New Roman">he</font>
            <font face="Wide Latin"> A</font><font face="Times New Roman">bdera</font>
            <font face="Wide Latin"> T</font><font face="Times New Roman">errestrial</font>
            <font face="Wide Latin"> L</font><font face="Times New Roman">aser</font>
            <font face="Wide Latin"> S</font><font face="Times New Roman">canning</font>
            <font face="Wide Latin"> P</font><font face="Times New Roman">roject</font>
         <p>
      </div>
     <!-- Image Slider -->
      <div id="image-slider" class="carousel slide" data-ride="carousel"
           data-interval="3000">
        <ol class="carousel-indicators">
         <li data-target="#image-slider" data-slide-to="0" class="active"></li>
         <li data-target="#image-slider" data-slide-to="1"></li>
         <li data-target="#image-slider" data-slide-to="2"></li>
         <li data-target="#image-slider" data-slide-to="3"></li>
         <li data-target="#image-slider" data-slide-to="4"></li>
         <li data-target="#image-slider" data-slide-to="5"></li>
        </ol>
        <div class="carousel-inner">
           <div class="item active">
                <img id="slider-image" src="static/images/IMG_0166.jpg">
           </div>
           <div class="item">
               <img id="slider-image" src="static/images/IMG_0340.jpg">
           </div>
          <div class="item">
              <img id="slider-image" src="static/images/IMG_0278.jpg">
          </div>
          <div class="item">
              <img id="slider-image" src="static/images/IMG_0208.jpg">
          </div>
          <div class="item">
              <img id="slider-image" src="static/images/Photo_Mesh.jpg">
          </div>
          <div class="item">
              <img id="slider-image" src="static/images/IMG_1023.jpg">
          </div>
         </div>
        <a class="left carousel-control" href="#image-slider" data-slide="prev">
           <span class="glyphicon glyphicon-chevron-left"></span>
           <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#image-slider" data-slide="next">
           <span class="glyphicon glyphicon-chevron-right"></span>
           <span class="sr-only">Next</span>
        </a>
       </div>
       <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <div class="navbar-header">
            </div>
            <ul class="nav navbar-nav">
              <li class="active"><a href="#">Home</a></li>
              <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Models
              <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="Model1.html"><b>Model1</b> - Full site</a></li>
                    <li><a href="Model2.html"><b>Model2</b> - Full site (Roman)</a></li>
                    <li><a href="Model3.html"><b>Model3</b> - Peristyle House</a></li>
                </ul>
              </li>
              <li><a href="about.html">About</a></li>
            </ul>
          </div>
        </nav>
       <!-- Video -->
       <div class="modal fade" id="video" role="dialog">
        <div class="modal-dialog" id="modal-video">
          <div class="modal-content" style="background-color: #D6EAF8;">
            <div class="modal-header">
              <button type="button" class="close"
                      data-dismiss="modal"> &times; </button>
            <!-- <h4 class="modal-title">
                   <center> <b> Flythrough Abdera </b> </center>
            </h4> -->
            </div>
            <div class="modal-body" style="padding-top:5px">
               <iframe id="iframe-video"
                       src="https://www.youtube-nocookie.com/embed/_uk8n1XlVAs?&rel=0&enablejsapi=1"
                       frameborder="0"
                       allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture">
              </iframe>
       </div> </div> </div> </div>
       <!-- Bing Satellite imagery -->
       <div class="modal fade" id="modal-bing" role="dialog">
        <div class="modal-dialog" id="modal-video">
          <div class="modal-content" style="background-color: #D6EAF8;">
            <div class="modal-header">
              <button type="button" class="close"
                      data-dismiss="modal"> &times; </button>
            </div>
            <div class="modal-body" style="padding-top:5px">
               <div id="bing-map"> </div>
       </div> </div> </div> </div>
       <!-- Detailed Satellite imagery -->
       <div class="modal fade" id="modal-sat" role="dialog">
        <div class="modal-dialog" id="modal-video">
          <div class="modal-content" style="background-color: #D6EAF8;">
            <div class="modal-header">
              <button type="button" class="close"
                      data-dismiss="modal"> &times; </button>
            </div>
            <div class="modal-body" style="padding-top:5px">
               <div id="tiff-map"> </div>
       </div> </div> </div> </div>
       <!-- Main content -->
       <div id="content" style="width:100%; margin-top:-20px">
           <div id="left" style="width:30%; float:left">
               <br>
               <img src="static/images/Video.png"
                    id="youtube-image"
                    title="View the Youtube Video"
                    data-toggle="modal"
                    data-target="#video"
                    style="cursor: pointer"
               />
               <br> <br>
               <table style="border-spacing">
               <tr>
                  <td>
                     <img src="static/images/Bing.png"
                          id="satimage"
                          title="View the Bing Satellite imagery"
                          data-toggle="modal"
                          data-target="#modal-bing"
                          style="cursor: pointer;"
                     />
                  </td>
                  <td>
                     <img src="static/images/Satellite.jpg"
                          id="satimage"
                          title="View the detailed one"
                          data-toggle="modal"
                          data-target="#modal-sat"
                          style="cursor: pointer; margin: 5px;"
                     />
                  </td>
               </tr>
               </table>
           </div>
           <div id="right" style="width:25%; float:right; text-align:justify;display: flex;flex-direction: column;flex: 1";>
                <table>
                  <tbody>
                    <tr>
                      <img  style="margin-top: 5%" id="unbf" src="static/images/Logos/UNB-F-Header.jpg">
                    </tr>
                    <tr>
                       <img style="margin-top: 3%" id="ministry" src="static/images/Logos/Ministry of Culture and Sports.jpg">
                    </tr>
                     <tr>
                      <div>
                         <img  id="greece-img" src="static/images/Logos/Canadian Institute in Greece.jpg">
                         <img  id="sshrc" src="static/images/Logos/SSHRC.jpg">
                        </div>
                     </tr>
                  </tbody>
                </table>
                <!-- <table>
                  <tbody>
                    <tr>
                      <img  style="margin-top: 5%" id="unbf" src="static/images/Logos/UNB-F-Header.jpg" height="100px">
                    </tr>
                    <tr>
                       <img style="margin-top: 3%" id="ministry" src="static/images/Logos/Ministry of Culture and Sports.jpg" height="100px">
                    </tr>
                     <tr>
                       <div>
                         <img style="margin-top:6%;width: 20px;height: 150px;float: left" id="greece-img" src="static/images/Logos/Canadian Institute in Greece.jpg">
                         <img  style="margin-top: 6%; width: 20px;height: 150px;float: left" id="sshrc" src="static/images/Logos/SSHRC.jpg">
                        </div>
                     </tr>
                  </tbody>
                </table>  -->
            </div>
          <div id="middle"  style="margin:0 auto;width:47%;text-align:center">
            <br><font face="Times New Roman">
               The ancient city of Abdera is located along the northern coast of the Aegean Sea,
               in the prefecture of Xanthi in Thrace, Greece.  Within the fortification walls of
               the Late Classical/Hellenistic city are the remains of the Insula of Houses, first
               investigated by the archaeologist Demetrios Lazarides in the 1950s with subsequent
               clearance and conservation work conducted by the Greek Archaeological Service in the
               1990s and 2000s. In 2005 Maria Papaioannou from the University of New Brunswick began
               a detailed architectural and artifact study of the Roman period peristyle house from
               this Insula. <br><br>

               With a research grant from SSHRC a collaborative interdisciplinary venture was
               undertaken in 2016 using Terrestrial Laser Scanning to document the insula. A digital,
               3D archival record was created and used to design digital elevation models (visualization theories),
               fly-throughs and virtual models for research and educational purposes. The project is directed by
               <a href="https://www.unb.ca/faculty-staff/directory/arts-fr-classics/papaioannou-maria.html" target="_blank">Maria Papaioanou</a>
               (Classics & Ancient History) and collaborator
               <a href="https://www.unb.ca/faculty-staff/directory/engineering-geomatics/dare-peter.html" target="_blank">Peter Dare</a> (Geodesy & Geomatics, Engineering)
               from the University of New Brunswick, Canada, and is under the auspices of the Ephorate of Antiquities of
               Xanthi, the Hellenic Ministry of Culture and Sports and the Canadian Institute in Greece.
               Generous support was provided by the Social Sciences and Humanities Research Council of
               Canada and the University of New Brunswick.</font>
          </div>
       </div>
    </div>
    <script>
    // https://coderwall.com/p/9jvoww/start-stop-youtube-video-in-bootstrap-modal
    var youtubeFunc ='';
    var outerDiv = document.getElementById("video");
    var youtubeIframe = outerDiv.getElementsByTagName("iframe")[0].contentWindow;
    $('#video').on('hidden.bs.modal', function (e) {
       youtubeFunc = 'pauseVideo';
       code = '{"event":"command","func":"' + youtubeFunc + '","args":""}'
       youtubeIframe.postMessage(code, '*');
    });
    $('#video').on('shown.bs.modal', function (e) {
       youtubeFunc = 'playVideo';
       code = '{"event":"command","func":"' + youtubeFunc + '","args":""}'
       youtubeIframe.postMessage(code, '*');
    });

    // L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    //    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    // }).addTo(tiff);
    var bing = L.map('bing-map').setView([40.934396, 24.974977], 15);
    var tiff = L.map('tiff-map', {
                           minZoom: 1,
                           maxZoom: 4,
                           center: [0, 0],
                           zoom: 1,
                           crs: L.CRS.Simple
                     });
    // Satellite
    var BING_KEY = 'AuhiCJHlGzhg93IqUH_oCpl_-ZUrIE6SPftlyGYUvr9Amx5nzA-WqGcPquyFZl4L';
    L.tileLayer.bing(BING_KEY).addTo(bing);
    L.easyButton('<span style="font-size:1.5em">&curren;</span>', function(){
            bing.setView([40.934396, 24.974977], 15);
         }).addTo(bing);
   L.control.scale().addTo(bing);
   L.control.mousePosition().addTo(bing);

    // BBox
    Bbox_lyr = L.geoJSON(bbox, {color:'red'}).addTo(bing);
    bing.on('zoomend', function(){
      if (bing.getZoom()>=18){
         bing.removeLayer(Bbox_lyr);
      }
      if (bing.getZoom()<18){
         bing.addLayer(Bbox_lyr);
      }
   })

    // Detailed View
    var w = 2000,
    h = 1500,
    url = 'static/images/Abdera_site.png';
    var southWest = tiff.unproject([0, h], tiff.getMaxZoom()-1);
    var northEast = tiff.unproject([w, 0], tiff.getMaxZoom()-1);
    var bounds = new L.LatLngBounds(southWest, northEast);
    L.imageOverlay(url, bounds).addTo(tiff);
    tiff.setMaxBounds(bounds);

    $('#modal-bing').on('shown.bs.modal', function(){
       setTimeout(function() {
          bing.invalidateSize();
       }, 1);
    });
    $('#modal-sat').on('shown.bs.modal', function(){
       setTimeout(function() {
          tiff.invalidateSize();
       }, 1);
    });
    $('#unbf').on('click', function(e){
      window.open("https://www.unb.ca/");
      // window.open("https://www.unb.ca/fredericton/arts/departments/classics/index.html");
      // window.open("http://www2.unb.ca/gge/HomePage.php");
    });
    $('#ministry').click(function(){
      window.open("https://www.culture.gr/en/SitePages/default.aspx");
    });
    $('#greece-img').click(function(){
      window.open("http://www.cig-icg.gr/");
    });
    $('#sshrc').click(function(){
      window.open("http://www.sshrc-crsh.gc.ca/home-accueil-eng.aspx");
    });
    </script>
</body>
</html>